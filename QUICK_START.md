# 🚀 Быстрый старт NetVillage

## Все готово к использованию!

### На вашем Mac выполните:

```bash
cd /Users/homa/Desktop/netvillage-payment

# 1. Получите последние обновления
git pull origin claude/project-improvements-011CUkJXjeEXNtCo9DcGwkvL

# 2. Активируйте виртуальное окружение
source venv/bin/activate

# 3. Установите новые зависимости
pip install -r requirements.txt

# 4. Обновите .env с ключом Supabase (уже вставлен!)
# Откройте .env и замените:
nano .env
# Замените: SUPABASE_KEY=YOUR_SUPABASE_ANON_KEY
# На: SUPABASE_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImVhYmZpcnF5eWdjcWtsdXBzZG9wIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTkwNzk5NjQsImV4cCI6MjA3NDY1NTk2NH0.4uimHQXFeUksiH73ACKl5ajQg_8BdzXMTUqOAvPjNjc
# Сохраните (Ctrl+O, Enter, Ctrl+X)

# 5. Пересоздайте базу с новыми тарифами
rm db.sqlite3
python3 manage.py migrate
python3 manage.py loaddata tariffs/fixtures/initial_tariffs.json

# 6. Создайте админа
python3 manage.py createsuperuser
# Username: admin
# Email: admin@netvillage.kz
# Password: (ваш пароль)

# 7. Запустите!
python3 manage.py runserver
```

## ✅ Проверка работы

### 1. Главная страница
Откройте: http://localhost:8000

**Должны увидеть:**
- 🎨 Красивую страницу с 3 тарифами
- Базовый: **10,000 ₸** - 5 Мбит/с
- Стандарт: **15,000 ₸** - 10 Мбит/с
- Премиум: **20,000 ₸** - 15 Мбит/с

### 2. Создайте заявку

1. Нажмите на любой тариф **"Выбрать"**
2. Заполните форму:
   ```
   Имя: Тест Тестов
   Email: test@test.kz
   Телефон: +77771234567
   Адрес: г. Алматы, ул. Абая 1
   ```
3. Нажмите **"Оформить заказ"**
4. **Заявка создана!** ✅

### 3. Проверьте в админке

Откройте: http://localhost:8000/admin/

**Должны увидеть:**
- ✨ **Красивую темную админку** с иконками
- Раздел **"Orders"** (Заказы)
- Вашу новую заявку!

## 📊 Как это работает

```
┌─────────────────────┐
│   Пользователь      │
│   (браузер)         │
└──────────┬──────────┘
           │
           ▼
┌─────────────────────┐
│  1. Выбирает тариф  │
│  2. Заполняет форму │
│  3. Нажимает кнопку │
└──────────┬──────────┘
           │
           ▼
┌─────────────────────┐
│   Django API        │
│   /api/orders/      │
└──────────┬──────────┘
           │
           ▼
┌─────────────────────┐
│ База данных SQLite  │
│ Сохраняет заявку    │
└──────────┬──────────┘
           │
           ▼
┌─────────────────────┐
│   Django Admin      │
│ Вы видите заявку!   │
└─────────────────────┘
```

## 🎯 Основные функции

### ✅ Что уже работает:

1. **Красивый сайт** - главная страница с тарифами
2. **Форма заказа** - клиент заполняет данные
3. **API** - создание заказов через REST API
4. **База данных** - все сохраняется в SQLite
5. **Админка** - красивая панель управления
6. **Логирование** - все действия логируются

### 📝 В админке вы можете:

- ✅ Просматривать все заявки
- ✅ Редактировать тарифы
- ✅ Менять статусы заказов
- ✅ Управлять платежами
- ✅ Искать по всем данным

## 📱 Демо заявка

Создайте тестовую заявку для проверки:

```
Тариф: Премиум (20,000 ₸ - 15 Мбит/с)
Имя: Ербол Тестов
Email: erbol@netvillage.kz
Телефон: +77012345678
Адрес: г. Алматы, мкр. Саина 10, кв. 25
```

После создания:
1. Откройте админку: http://localhost:8000/admin/orders/order/
2. Увидите заявку с статусом "Ожидает оплаты"
3. Можете изменить статус на "Оплачен"

## 🔍 Логи

Смотрите что происходит в реальном времени:

```bash
tail -f logs/django.log
```

Должны видеть:
```
INFO Received order creation request: {...}
INFO Looking for tariff with id: 3
INFO Found tariff: Премиум - 20000₸
INFO ✅ Order created successfully: ID=1, Customer=erbol@netvillage.kz, Tariff=Премиум, Amount=20000₸
```

## 🎨 Админка

**Что нового:**
- 🌙 Темная тема (можно изменить)
- 🔍 Поиск в шапке
- 📊 Иконки для каждого раздела
- 🔗 Кнопка "Сайт" в меню
- ✨ Современный дизайн

## 🔄 Переключение на Supabase (опционально)

Когда будете готовы к production:

1. Получите пароль БД из Supabase Dashboard
2. Откройте `.env`
3. Раскомментируйте Supabase настройки
4. Закомментируйте SQLite
5. Выполните `python3 manage.py migrate`

## ❓ Проблемы?

### Заявки не создаются
```bash
# Проверьте логи
tail -f logs/django.log

# Проверьте консоль браузера (F12)
```

### Админка не изменилась
```bash
# Очистите кэш (Cmd+Shift+R)
# Или перезапустите сервер
```

### Тарифы не загружаются
```bash
# Проверьте что API работает
curl http://localhost:8000/api/tariffs/
```

## 🎉 Готово!

Теперь у вас есть:
- ✅ Работающий сайт
- ✅ Красивая админка
- ✅ Система заявок
- ✅ 3 тарифа готовых к использованию

Все заявки с сайта автоматически попадают в админку Django! 🚀
